---
import Layout from "../layout/Layout.astro";
import Like from "../components/svg/Like.astro";
import Bag from "../components/svg/Bag.astro";
import User from "../components/svg/User.astro";
import Search from "../components/svg/Search.astro";
import SmallCategoryShape from "../components/svg/SmallCategoryShape.astro";
import BigCategoryShape from "../components/svg/BigCategoryShape.astro";
import { products, season } from "../data";
import ProductCard from "../components/ProductCard.astro";
---

<Layout title="Hasbulla Shop">
	<header>
		<article class="big-banner">
			<img src="img/banner_1.jpg" alt="young people" />
			<h1>HASBULLA</h1>
		</article>
	</header>
	<section class="big-categories">
		<a href="category/hombre">
			<article>
				<img src="img/man.jpeg" alt="man clothes" />
				<h2>HOMBRE</h2>
			</article>
		</a>
		<a href="category/mujer">
			<article>
				<img src="img/woman.jpg" alt="woman clothes" />
				<h2>MUJER</h2>
			</article>
		</a>
		<aside>
			<article class="sm-act act-1">
				<img src="img/gadgets.jpg" alt="gadgets" />
				<h3>ACCESORIOS</h3>
			</article>
			<article class="sm-act act-2">
				<img src="img/shoes.webp" alt="shoes" />
				<h3>CALZADO</h3>
			</article>
		</aside>
	</section>
	<section class="sm-categories">
		<a href="category/deportiva">Deportiva</a>
		<a href="category/formal">Formal</a>
		<a href="category/casual">Casual</a>
		<a href="category/verano">Verano</a>
		<a href="category/invierno">Invierno</a>
	</section>
	<main>
		<h2>LO MAS VENDIDO</h2>
		<section class="clothes">
			{
				products.map((product) => {
					return <ProductCard data={product} />;
				})
			}
		</section>
		<h2>DE LA TEMPORADA</h2>
		<section class="clothes">
			{
				season.map((product) => {
					return <ProductCard data={product} />;
				})
			}
		</section>
	</main>
	<SmallCategoryShape />
	<BigCategoryShape />

	<style>
		section.clothes {
			display: grid;
			grid-template-columns: 1fr 1fr 1fr;
			gap: 1rem;
			margin-bottom: 2rem;

			article {
				width: 100%;
				height: 40rem;
				position: relative;
				border-radius: 1.5rem;
				overflow: hidden;
				cursor: pointer;

				img {
					width: 100%;
					height: 100%;
					object-fit: cover;

					position: relative;
				}

				div.button {
					position: absolute;
					bottom: 1.75rem;
					right: 1.75rem;
					width: 64px;
					aspect-ratio: 1 / 1;
					background-color: #868686;
					border: 2px solid #f1f1f1;
					color: #333;
					font-size: 1.5rem;
					border-radius: 1.5rem;
					cursor: pointer;
					z-index: 2;
					display: flex;
					align-items: center;
					justify-content: center;
					transition: background-color 0.3s ease;

					&:hover {
						background-color: #363636;
					}
				}

				div.text {
					position: absolute;
					bottom: 0.75rem;
					left: 0.75rem;
					width: 100%;
					padding: 1rem;
					color: #f1f1f1;
					font-size: 1.5rem;
					z-index: 2;

					h3 {
						font-size: 3rem;
						font-weight: 600;
						line-height: 1;
						color: #f1f1f1;
						margin-top: 0.5rem;
					}

					p {
						font-size: 2rem;
						line-height: 1;
						color: #ebe7e7;
					}
				}

				&::after {
					content: "";
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background-image: linear-gradient(
						to bottom,
						rgba(0, 0, 0, 0) 60%,
						rgba(0, 0, 0, 0.7)
					);
				}
			}
		}
	</style>
</Layout>

<script>
	const sm1 = document.querySelector<HTMLElement>(".act-1");
	const sm2 = document.querySelector<HTMLElement>(".act-2");
	if (sm1) {
		sm1.onclick = () => {
			window.location.href = "/category/accesorios";
		};
	}
	if (sm2) {
		sm2.onclick = () => {
			window.location.href = "/category/calzado";
		};
	}
</script>
